"use strict";function buildNavigationMenu(){var n=new SideBar({el:$("#navMenu")}),t=$("#navMenuBtn");t.unbind("click").click(function(){n.show(!0)});$(".sideBarOverlay").click(function(){n.show(!1)});$("#navMenu .nav-btn").click(function(){var t=this;loadPage($(t).attr("data-page"));n.show(!1)})}function loadPage(n){var t,i;try{}catch(r){}t=currentPage.id;currentPage.dataName=n;i=!0;switch(n){case"home":currentPage.id=1;currentPage.url="home.html";currentPage.title="Inicio";currentPage.icon="mdi mdi-home";i=!1;break;case"route":currentPage.id=2;currentPage.url="route.html";currentPage.title="Programa";currentPage.icon="mdi mdi-calendar-text";break;case"staff":currentPage.id=4;currentPage.url="staff.html";currentPage.title="Staff";currentPage.icon="mdi mdi-human-greeting";break;case"museums":currentPage.id=3;currentPage.url="museums.html";currentPage.title="Museos";currentPage.icon="mdi mdi-bank";break;default:currentPage.id=null;currentPage.valid=!1}currentPage.valid&&($("#main").removeClass("slideInLeft slideInRight slideInDown"),t!=null?t<currentPage.id?$("#main").addClass("slideOutLeft"):t==currentPage.id?$("#main").addClass("slideOutDown"):$("#main").addClass("slideOutRight"):$("#main").addClass("invisible"),setTimeout(function(){i?$("#topBar .app-header").fadeIn(function(){$("#pageTitle > i.icon").attr("class","icon "+currentPage.icon);$("#pageTitle > span.text").html(currentPage.title)}):$("#topBar .app-header").fadeOut(function(){$("#pageTitle > i.icon").attr("class","icon "+currentPage.icon);$("#pageTitle > span.text").html(currentPage.title)});showMainLoading(!0);$("#main").load(currentPage.url,function(){setTimeout(function(){showMainLoading(!1);$("#main").removeClass("slideOutRight slideOutLeft slideOutDown invisible");t<currentPage.id?$("#main").addClass("slideInRight"):t==currentPage.id?$("#main").addClass("slideInDown"):$("#main").addClass("slideInLeft")},500)})},500));currentPage.id!=5&&currentPage.id!=6&&(currentPageStore.id=currentPage.id,currentPageStore.dataName=currentPage.dataName,currentPageStore.url=currentPage.url,currentPageStore.valid=currentPage.valid,currentPageStore.icon=currentPage.icon,currentPageStore.title=currentPage.title)}function showLoading(n,t,i){try{if(n){i=i.toLowerCase();var r='<div class="loadingFrame '+i+'"><div class="spinningCogs"><i class="left-cog fa fa-cog fa-spin"><\/i><i class="center-cog fa fa-cog fa-spin-reverse"><\/i><i class="right-cog fa fa-cog fa-spin"><\/i><\/div><\/div>';t.find(".loadingFrame").length==0&&t.append(r);t.find(".loadingFrame").fadeIn()}else t.find(".loadingFrame").fadeOut(function(){t.find(".loadingFrame").remove()})}catch(u){console.log(u)}}function showMainLoading(n){try{clearInterval(msgRefresh);$("#loadingBackground > header > h1").html(loadingMessages[Math.floor(Math.random()*loadingMessages.length+1)]);n?(msgRefresh=setInterval(function(){var n=Math.floor(Math.random()*loadingMessages.length+1);$("#loadingBackground > header").fadeOut(200,function(){$("#loadingBackground > header > h1").html(loadingMessages[n]);$("#loadingBackground > header ").fadeIn(200)})},2e3),$("#loadingBackground").fadeIn()):$("#loadingBackground").fadeOut()}catch(t){console.log(t)}}function resizeNavMenu(){$("#pagesList").css({bottom:$("#optionsList").outerHeight(!0)})}function resizeApp(){resizeNavMenu()}var currentPage={id:null,valid:!0,dataName:"",icon:"",title:"",url:""},currentPageStore={id:null,valid:!0,dataName:"",icon:"",title:"",url:""},loadingMessages=["puliendo antiguedades...","encendiendo estrellas...","clasificando fotos...","restaurando cuadros antiguos...","dibujando constelaciones...","arrancando trenes...","afinando guitarras...","calentando motores..."],msgRefresh,currentPageFromLocal,SideBar=Backbone.View.extend({visible:!1,initialize:function(){this.$el.addClass("hidden")},render:function(){},show:function(n){switch(n){case!0:this.$el.siblings(".sideBar").addClass("hidden");this.$el.removeClass("hidden");this.visible=!0;$(".sideBarOverlay").fadeIn();break;case!1:this.$el.addClass("hidden");this.visible=!1;$(".sideBarOverlay").fadeOut();break;default:this.isVisible()?this.show(!1):this.show(!0)}},isVisible:function(){return!this.$el.hasClass("hidden")}});$(window).resize(resizeApp);$(document).ready(function(){showMainLoading(!0);$("#topBar .app-header").hide();window.mobilecheck()?$("html").addClass("isMobile"):$("html").removeClass("isMobile");buildNavigationMenu();loadPage("home");"serviceWorker"in navigator&&navigator.serviceWorker.register("./service-worker.js").then(function(){console.log("Service Worker Registered")})});